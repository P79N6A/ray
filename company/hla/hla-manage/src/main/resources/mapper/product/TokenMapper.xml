<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- Mybatis mapper for token  Auto generated by fms-mybatis-generator -->
<mapper namespace="com.rongyi.hla.mapper.product.TokenMapper">
	<resultMap id="token" type="com.rongyi.entity.product.Token">
		<id property="id" column="token_id" javaType="int" jdbcType="INTEGER" />
		<result property="token" column="token_token" javaType="string" jdbcType="VARCHAR" />
		<result property="createDate" column="token_create_date" javaType="java.util.Date" jdbcType="TIMESTAMP" />
		<result property="expiresTime" column="token_expiresTime" javaType="long" jdbcType="BIGINT" />
		<result property="accessTokenUrl" column="token_access_token_url" javaType="string" jdbcType="VARCHAR" />
		<result property="appId" column="token_app_id" javaType="string" jdbcType="VARCHAR" />
		<result property="appSecret" column="token_app_secret" javaType="string" jdbcType="VARCHAR" />
		<result property="state" column="token_state" javaType="int" jdbcType="INTEGER" />
	</resultMap>
	
	<sql id="sqlTokenColumns">
		token_.id AS token_id,
		token_.token AS token_token,
		token_.create_date AS token_create_date,
		token_.expires_time AS token_expiresTime,
		token_.access_token_url AS token_access_token_url,
		token_.app_id AS token_app_id,
		token_.app_secret AS token_app_secret,
		token_.state AS token_state
	</sql>
	
	<select id="get" parameterType="int" resultMap="token">
		SELECT <include refid="sqlTokenColumns" /> 
        FROM token token_
        WHERE token_.id = #{id,jdbcType=INTEGER}
	</select>
	
	<insert id="save" parameterType="com.rongyi.entity.product.Token" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO token (
		id,
			token,
			create_date,
			expires_time,
			access_token_url,
			app_id,
			app_secret,
			state
		)
        VALUES (
			#{id,jdbcType=INTEGER},
			#{token,jdbcType=VARCHAR},
			#{createDate,jdbcType=TIMESTAMP},
			#{expiresTime,jdbcType=BIGINT},
			#{accessTokenUrl,jdbcType=VARCHAR},
			#{appId,jdbcType=VARCHAR},
			#{appSecret,jdbcType=VARCHAR},
			#{state,jdbcType=INTEGER}
		)
	</insert>
	
	<update id="update" parameterType="com.rongyi.entity.product.Token">
		UPDATE token
		<set>
			<if test="token != null and token != ''">token = #{token,jdbcType=VARCHAR},</if>
			<if test="createDate != null">create_date = #{createDate,jdbcType=TIMESTAMP},</if>
			<if test="expiresTime != null">expires_time = #{expiresTime,jdbcType=BIGINT},</if>
			<if test="accessTokenUrl != null and accessTokenUrl != ''">access_token_url = #{accessTokenUrl,jdbcType=VARCHAR},</if>
			<if test="appId != null and appId != ''">app_id = #{appId,jdbcType=VARCHAR},</if>
			<if test="appSecret != null and appSecret != ''">app_secret = #{appSecret,jdbcType=VARCHAR},</if>
			<if test="state != null">state = #{state,jdbcType=INTEGER},</if>
		</set>
		WHERE id = #{id,jdbcType=INTEGER}
	</update>
	
</mapper>
